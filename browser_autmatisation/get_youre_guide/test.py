from langchain_ollama import ChatOllama
from langchain_core.messages import HumanMessage, SystemMessage
from langchain_core.prompts import MessagesPlaceholder
from state import state, isevent, ActivityListing, ActivityListing_advanced, Advanced, has_more_info
from messages import is_event_prompt, json_format_prompt, deep_analyst_prompt, deep_struter_prompt
from scraper import get_youre_data
from scraper import splitting
is_event_model = ChatOllama(model="hf.co/bartowski/ai21labs_AI21-Jamba-Reasoning-3B-GGUF:Q8_0", num_predict=11)
json_format_model   = ChatOllama(model="hf.co/LiquidAI/LFM2-1.2B-Extract-GGUF:Q8_0", temperature=0, num_predict=12)



test = """
[Skip to main content](https://www.getyourguide.com/fuerteventura-l419/#main-content-wrapper)[![Get Your Guide logo](data:image/svg+xml,%3Csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20382%20302'%20width='56'%20height='64'%3E%3Cpath%20d='M98.273%20125.538c-5.904%200-10.574%204.553-10.574%2010.574s4.67%2010.574%2010.574%2010.574%2010.574-4.553%2010.574-10.574-4.67-10.574-10.574-10.574zm60.37-51.987h-37.392V55.594h33.329V37.637h-33.329V19.925h36.775V1.84h-56.944v89.795h57.561V73.551zm-41.668%2054.2c5.904%200%2010.574-4.553%2010.574-10.574s-4.67-10.574-10.574-10.574-10.575%204.553-10.575%2010.574%204.671%2010.574%2010.575%2010.574zM38.498%2093.475c13.042%200%2024.478-6.638%2031.243-16.85v15.01h17.713V41.701H39.977v17.222h19.925c-1.84%209.223-9.968%2016.362-19.808%2016.362-10.947%200-19.808-8.862-19.808-21.776V40.222c0-12.67%209.468-22.02%2022.754-22.02%2010.33%200%2019.553%205.659%2022.627%2013.903l18.702-6.52C79.199%209.84%2062.476%200%2043.168%200%2018.818%200%20.606%2016.361.606%2040.222v13.287c.01%2022.988%2016.978%2039.966%2037.892%2039.966zm172.909-66.401h-19.903v28.69h19.903v-28.69zM235.396%201.84h-68.147v18.085h68.147V1.84zM33.829%20195.887h20.17v-34.063l33.817-55.721H65.061l-21.275%2036.775-21.032-36.775H0l33.829%2055.966v33.818zM211.407%2062.923h-19.903v28.68h19.903v-28.68zM364.87%20195.887l-24.478-34.318c11.936-3.692%2020.297-14.149%2020.297-26.935%200-16.234-13.403-28.542-30.382-28.542h-11.808v18.201h11.074c5.904%200%2010.457%204.671%2010.457%2010.819%200%206.149-4.553%2010.83-10.457%2010.83h-11.074v17.222l21.893%2032.723h24.478zm-99.964%2014.35h-29.648v89.912h29.648c27.796%200%2047.477-19.063%2047.477-44.892%200-25.829-19.681-45.02-47.477-45.02zm1.595%2071.827h-11.074v-53.753h11.074c15.01%200%2025.212%2011.563%2025.212%2026.935%200%2015.372-10.202%2026.818-25.212%2026.818zm78.104-17.956h33.328v-17.957h-33.328v-17.712h36.775v-18.074h-56.945v89.784h57.562v-18.085h-37.392v-17.956zm-32.137-98.582-10.426-14.776%2010.287-14.946-10.425-14.766%2010.298-14.935-20.797.01-10.298%2015.095%2010.436%2014.777-10.298%2014.946%2010.436%2014.765-10.297%2014.957%2011.074%2015.372h21.02l-11.308-15.542%2010.298-14.957zm-45.924-4.564v-54.859h-20.053v55.232c0%2010.329-7.383%2017.957-17.467%2017.957-10.085%200-17.468-7.628-17.468-17.957v-55.232h-20.052v54.859c0%2021.159%2015.872%2036.776%2037.52%2036.776%2021.648%200%2037.52-15.627%2037.52-36.776zM156.452%20265.586c0%2010.33-7.383%2017.957-17.468%2017.957-10.084%200-17.467-7.627-17.467-17.957v-55.232h-20.053v54.86c0%2021.159%2015.872%2036.775%2037.52%2036.775%2021.649%200%2037.52-15.616%2037.52-36.775v-54.86h-20.052v55.232zm-116.475%201.851h19.925c-1.84%209.223-9.968%2016.361-19.808%2016.361-10.946%200-19.807-8.861-19.807-21.775v-13.287c0-12.67%209.467-22.021%2022.754-22.021%2010.33%200%2019.553%205.66%2022.627%2013.904l18.701-6.521c-5.17-15.744-21.892-25.584-41.2-25.584-24.35%200-42.563%2016.361-42.563%2040.222v13.287C.606%20285.022%2017.584%20302%2038.488%20302c13.042%200%2024.478-6.638%2031.244-16.85v15.01h17.712v-49.935H39.977v17.212z'%20fill='%23F53'/%3E%3Cpath%20d='M132.102%20104.252v18.946c14.765%200%2026.446%2012.053%2026.446%2027.797s-11.681%2027.797-26.446%2027.797c-14.755%200-26.446-12.053-26.446-27.797h-20.67c0%2026.201%2020.915%2046.743%2047.105%2046.743%2026.201%200%2047.105-20.542%2047.105-46.743%200-26.202-20.893-46.743-47.094-46.743zm82.497%20148.377c2.978-2.691%207.968-7.191%207.968-15.435%200-8.245-4.99-12.744-7.968-15.436a9.787%209.787%200%200%200-.373-.33c-1.489-1.563-1.744-3.808-1.776-4.872v-6.319h-20.201v8.404h.01c0%20.107-.01.202-.01.309%200%208.244%204.989%2012.744%207.967%2015.435%202.139%201.936%202.139%202.032%202.139%202.809%200%20.776%200%20.872-2.139%202.808-2.861%202.585-7.574%206.862-7.925%2014.532h-.021c0%20.148-.021.287-.021.425%200%20.085.01.16.01.234%200%20.085-.01.16-.01.234%200%20.149.01.287.021.426h.021c.351%207.67%205.064%2011.946%207.925%2014.531%202.139%201.936%202.139%202.032%202.139%202.808%200%20.777%200%20.873-2.139%202.809-2.978%202.691-7.967%207.191-7.967%2015.435%200%20.107%200%20.213.01.309h-.01v8.404h20.201v-6.319c.032-1.053.287-3.308%201.776-4.872.117-.107.234-.213.373-.33%202.978-2.691%207.968-7.191%207.968-15.436%200-8.244-4.99-12.744-7.968-15.435-1.904-1.713-2.117-1.989-2.138-2.564.021-.574.234-.851%202.138-2.564z'%20fill='%23F53'/%3E%3C/svg%3E) ](https://www.getyourguide.com/ "GetYourGuide")AnytimeSearch  * [Become a supplier](https://supplier.getyourguide.com/?utm_source=inbound&utm_medium=b2c_website_supply&utm_campaign=navbar_tripitem_versionb "Become a supplier")  *   * [Wishlist](https://www.getyourguide.com/wishlists/ "Wishlist")  * [ Cart](https://www.getyourguide.com/cart/ "Cart")  * EN/EUR â‚¬  * [ Profile](https://www.getyourguide.com/fuerteventura-l419/ "Profile")
"""
xampleArray = [
  "Home",
  "About Us",
  "Products",
  "Services",
  "Contact",
  "Blog",
  "Careers",
  "Documentation",
  "Login",
  "Become a supplier asdfasfddasfd"
]


darf_nicht_drinne_sein = ["Become a supplier"]
tester = [word for word in xampleArray 
          if not any(verbot.lower() in word.lower() for verbot in darf_nicht_drinne_sein)]
